{"version":3,"sources":["../../src/hooks/useLazyFetch.js"],"names":["useLazyFetch","options","deps","state","callback","refreshInterval","then","err","timer","setInterval","cancel","clearInterval"],"mappings":";;;;;;;AAAA;;AACA;;;;;;;;;;;;AAEe,SAASA,YAAT,CAAsBC,OAAtB,EAA+BC,IAA/B,EAAqC;AAAA,kBAC1B,2BAASD,OAAT,EAAkBC,IAAlB,EAAwB,IAAxB,CAD0B;AAAA;AAAA,MAC7CC,KAD6C;AAAA,MACtCC,QADsC;;AAElD,MAAIC,eAAe,GAAGJ,OAAO,CAACI,eAAR,IAA2B,CAAjD;AACA,wBAAU,YAAM;AACdD,IAAAA,QAAQ,GAAGE,IAAX,CAAgB,UAACC,GAAD,EAAS,CACvB;AACD,KAFD;;AAGA,QAAIF,eAAJ,EAAqB;AACnB,UAAIG,KAAK,GAAGC,WAAW,CAACL,QAAD,EAAWC,eAAX,CAAvB;AACA,aAAO,YAAM;AACXF,QAAAA,KAAK,CAACO,MAAN,IAAgBP,KAAK,CAACO,MAAN,EAAhB;AACAC,QAAAA,aAAa,CAACH,KAAD,CAAb;AACD,OAHD;AAID,KAND,MAMO;AACL,aAAO,YAAM;AACXL,QAAAA,KAAK,CAACO,MAAN,IAAgBP,KAAK,CAACO,MAAN,EAAhB;AACD,OAFD;AAGD;AACF,GAfD,EAeG,CAACN,QAAD,CAfH;AAgBA,SAAOD,KAAP;AACD","sourcesContent":["import { useEffect } from 'react';\nimport useFetch from './useFetch';\n\nexport default function useLazyFetch(options, deps) {\n  let [state, callback] = useFetch(options, deps, true);\n  let refreshInterval = options.refreshInterval || 0;\n  useEffect(() => {\n    callback().then((err) => {\n      //do nothing\n    });\n    if (refreshInterval) {\n      let timer = setInterval(callback, refreshInterval);\n      return () => {\n        state.cancel && state.cancel();\n        clearInterval(timer);\n      }\n    } else {\n      return () => {\n        state.cancel && state.cancel();\n      }\n    }\n  }, [callback]);\n  return state;\n}\n"],"file":"useLazyFetch.js"}